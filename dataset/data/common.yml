version: "2.0"

actions:
  - action_ask_confirm__slot
  - action_on_confirm_set
  - action_reset_confirm_form
  - validate_confirm_form

forms:
  confirm_form:
    ignored_intents:
      - EXTERNAL_payment_callback
      - EXTERNAL_on_google_auth
      - EXT_patient_send_message
      - EXT_doctor_send_message
    required_slots:
      confirm__slot:
        - type: from_text

rules:
  - rule: End new confirm patient form
    condition:
      - active_loop: confirm_form
      - slot_was_set:
          - chat_type: private
    steps:
      - action: confirm_form
      - active_loop: null
      - slot_was_set:
          - requested_slot: null
      - action: action_on_confirm_set

slots:
  confirm_intent:
    type: text
  confirm__slot:
    type: text
